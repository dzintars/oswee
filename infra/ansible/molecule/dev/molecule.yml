---
driver:
  name: vagrant
  provider:
    name: libvirt
    type: libvirt
    driver: kvm
platforms:
  - name: workstation
    # box: fedora37
    box: fedora/37-cloud-base
    box_version: 37.20221105.0
    cpus: 4
    memory: 4096
    instance_raw_config_args:
      - 'vagrant.plugins = ["vagrant-libvirt"]'
    provider_raw_config_args:
      - 'cpu_mode = "host-passthrough"'
      - 'disk_bus = "virtio"'
      - 'nic_model_type = "virtio"'
      - 'video_type = "virtio"'
      - 'disk_driver :cache => "writeback"'
      - 'storage :file, bus: "virtio", cache: "writeback"'
    provider_options:
      video_type: '"vga"'
    config_options:
      ssh.keep_alive: true
      ssh.remote_user: '"vagrant"'
    groups:
      - workstations
      - all

  # - name: bastion
  #   box: fedora/35-cloud-base
  #   box_version: 35.20211026.0
  #   cpus: 2
  #   memory: 2048
  #   instance_raw_config_args:
  #     - 'vagrant.plugins = ["vagrant-libvirt"]'
  #   provider_raw_config_args:
  #     - 'cpu_mode = "host-passthrough"'
  #     - 'disk_bus = "virtio"'
  #     - 'nic_model_type = "virtio"'
  #     - 'video_type = "virtio"'
  #     - 'disk_driver :cache => "writeback"'
  #     - 'storage :file, bus: "virtio", cache: "writeback"'
  #   provider_options:
  #     video_type: '"vga"'
  #   config_options:
  #     ssh.keep_alive: true
  #     ssh.remote_user: '"vagrant"'
  #   groups:
  #     - bastions
  #     - all

  # - name: build
  #   box: fedora/35-cloud-base
  #   box_version: 35.20211026.0
  #   cpus: 2
  #   memory: 2048
  #   instance_raw_config_args:
  #     - 'vagrant.plugins = ["vagrant-libvirt"]'
  #   provider_raw_config_args:
  #     - 'cpu_mode = "host-passthrough"'
  #     - 'disk_bus = "virtio"'
  #     - 'nic_model_type = "virtio"'
  #     - 'video_type = "virtio"'
  #     - 'disk_driver :cache => "writeback"'
  #     - 'storage :file, bus: "virtio", cache: "writeback"'
  #   provider_options:
  #     video_type: '"vga"'
  #   config_options:
  #     ssh.keep_alive: true
  #     ssh.remote_user: '"vagrant"'
  #   groups:
  #     - ci
  #     - all

  # - name: sql1
  #   box: fedora/35-cloud-base
  #   box_version: 35.20211026.0
  #   cpus: 2
  #   memory: 2048
  #   instance_raw_config_args:
  #     - 'vagrant.plugins = ["vagrant-libvirt"]'
  #   provider_raw_config_args:
  #     - 'cpu_mode = "host-passthrough"'
  #     - 'disk_bus = "virtio"'
  #     - 'nic_model_type = "virtio"'
  #     - 'video_type = "virtio"'
  #     - 'disk_driver :cache => "writeback"'
  #     - 'storage :file, bus: "virtio", cache: "writeback"'
  #   provider_options:
  #     video_type: '"vga"'
  #   config_options:
  #     ssh.keep_alive: true
  #     ssh.remote_user: '"vagrant"'
  #   groups:
  #     - db
  #     - all
...
