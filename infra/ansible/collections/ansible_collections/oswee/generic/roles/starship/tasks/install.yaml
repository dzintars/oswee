---
# tasks/install.yaml file for oswee.generic.starship role

- name: install | Enable Starship Copr repository
  become: true
  community.general.copr:
    host: copr.fedorainfracloud.org
    state: enabled
    name: atim/starship
    # chroot: fedora-37-x86_64

- name: install | Install Copr package
  become: true
  ansible.builtin.dnf:
    name: starship
    state: present

# # TODO: What if none of those are used ATM?
# - name: install | Add Starship to Bash
#   when: '"bash" in ansible_user_shell'
#   ansible.builtin.lineinfile:
#     path: '{{ ansible_env.HOME }}/.bash_profile'
#     line: eval "$(starship init bash)"
#
# # TODO: This will be overridden if ZSH is by some strange reason installed/reconfigured later.
# - name: install | Add Starship to Zsh
#   when: '"zsh" in ansible_user_shell'
#   ansible.builtin.lineinfile:
#     path: '{{ ansible_env.HOME }}/.zshrc'
#     line: eval "$(starship init zsh)"
...
