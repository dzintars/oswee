---
# tasks/build.yaml file for oswee.generic.libdisplay role

- name: build | Meson build libdsiplay-info
  ansible.builtin.command: meson setup build/
  args:
    chdir: '{{ libdisplay_source_path }}'

- name: build | Ninja build libdisplay-info
  ansible.builtin.command: ninja -C build/
  args:
    chdir: '{{ libdisplay_source_path }}'

- name: build | Copy libdisplay-info library (version 0.1.0) to ldpath
  become: true
  ansible.builtin.copy:
    src: '{{ libdisplay_source_path }}/build/libdisplay-info.so.1'
    dest: /usr/local/lib
    owner: root
    group: root
    mode: 0755
    remote_src: true
...
