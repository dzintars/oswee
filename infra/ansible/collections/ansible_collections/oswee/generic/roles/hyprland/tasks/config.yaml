---
# tasks/config.yaml file for oswee.generic.hyprland role

- name: config | Copy Hyprland example config
  ansible.builtin.copy:
    src: hypr/hyprland.conf
    dest: '{{ ansible_env.HOME }}/.config/hypr/'
    mode: 0644

- name: config | Ensure .local/bin exists
  ansible.builtin.file:
    path: '{{ ansible_env.HOME }}/.local/bin'
    state: directory
    owner: '{{ ansible_env.USER }}'
    group: '{{ ansible_env.USER }}'
    mode: 0755

- name: config | Add .local/bin dir to system-wide $PATH.
  become: true
  ansible.builtin.copy:
    # TODO: I really don't like this location
    dest: /etc/profile.d/system-path.sh
    content: PATH=$HOME/.local/bin:$PATH
    mode: 0755

- name: config | Copy Hyprland wrapper script
  ansible.builtin.copy:
    src: hyprland.sh
    dest: '{{ hyprland_wrapper_path }}/hyprland'
    mode: 0755
...
