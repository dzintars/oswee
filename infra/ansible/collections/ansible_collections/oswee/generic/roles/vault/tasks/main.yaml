---
# tasks file for Vault

- name: Setup
  tags:
    - vault
    - vault.setup
  block:
    - name: Install
      ansible.builtin.import_tasks: install.yaml
      tags:
        - install
        - vault.install

    - name: Config
      ansible.builtin.import_tasks: config.yaml
      tags:
        - config
        - vault.config

- name: Init
  tags:
    - vault
    - vault.init
  block:
    - name: Init
      ansible.builtin.import_tasks: init.yaml
      tags:
        - init
        - vault.init

    - name: Unseal
      ansible.builtin.import_tasks: unseal.yaml
      tags:
        - unseal
        - vault.unseal

- name: Teardown
  tags:
    - vault
    - teardown
    - vault.teardown
    - never
  ansible.builtin.import_tasks: teardown.yaml
...
