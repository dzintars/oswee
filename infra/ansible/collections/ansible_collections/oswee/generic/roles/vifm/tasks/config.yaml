---
# tasks file for Vifm

- name: config | Ensure vifm theme directory exists
  ansible.builtin.file:
    path: '{{ ansible_env.HOME }}/.config/vifm/colors'
    state: directory
    owner: '{{ vifm_user }}'
    group: '{{ vifm_group }}'
    mode: 0755

- name: config | Copy vifmrc config
  ansible.builtin.copy:
    src: vifm/vifmrc
    dest: /home/{{ vifm_user }}/.config/vifm/vifmrc
    mode: 0644

- name: config | Copy dark color scheme
  ansible.builtin.copy:
    src: vifm/colors/gruvbox-dark.vifm
    dest: /home/{{ vifm_user }}/.config/vifm/colors/gruvbox-dark.vifm
    mode: 0644

- name: config | Copy light color scheme
  ansible.builtin.copy:
    src: vifm/colors/gruvbox-light.vifm
    dest: /home/{{ vifm_user }}/.config/vifm/colors/gruvbox-light.vifm
    mode: 0644

- name: config | Enable dark theme
  ansible.builtin.lineinfile:
    dest: '/home/{{ vifm_user }}/.config/vifm/vifmrc'
    regexp: '{{ item.regexp }}'
    line: '{{ item.line }}'
  loop:
    - { regexp: '^colorscheme', line: 'colorscheme gruvbox-dark' }
...
