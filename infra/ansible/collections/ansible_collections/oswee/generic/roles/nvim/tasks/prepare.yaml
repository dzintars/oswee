---
# tasks file for Nvim

- name: prepare | Install Neovim build prerequisites
  become: true
  ansible.builtin.dnf:
    name: '{{ item }}'
    state: present
  loop: '{{ nvim_build_packages.redhat }}'
  when: nvim_nightly | bool

- name: prepare | Get package facts
  ansible.builtin.package_facts:
    manager: rpm

- name: prepare | Remove default distribution Neovim package if exists
  become: true
  ansible.builtin.dnf:
    name: neovim
    state: absent
  when:
    - nvim_nightly | bool
    - '"neovim" in ansible_facts.packages'
...
