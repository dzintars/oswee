---
# tasks file for Gpg

- name: install | Install package
  become: true
  ansible.builtin.dnf:
    name: gnupg2
    state: present

- name: install | Install pinentry program
  become: true
  ansible.builtin.dnf:
    name: pinentry-gtk  # Because it supports KeePassXC (libsecret) integration.
    state: present

- name: install | Ensure config directory exist
  ansible.builtin.file:
    path: '{{ gpg_config_path }}'
    state: directory
    mode: 0755

- name: install | Copy GPG Agent config
  ansible.builtin.copy:
    src: gpg-agent.conf
    dest: '{{ gpg_config_path }}/gpg-agent.conf'
    mode: 0644
...
