---
# tasks file for mariadb

- name: teardown | Disable and stop mariadb.service
  become: true
  ansible.builtin.systemd:
    name: mariadb
    enabled: false
    state: stopped

- name: teardown | Remove rpm dependencies
  become: true
  ansible.builtin.dnf:
    name: '{{ item }}'
    state: absent
  loop:
    - '{{ mysql_dependencies }}'

- name: teardown | Remove rpm mariadb
  become: true
  ansible.builtin.dnf:
    name: '{{ item }}'
    state: absent
  loop:
    - '{{ mysql_packages }}'

- name: teardown | Remove directories
  become: true
  ansible.builtin.file:
    path: /var/lib/mysql
    state: absent

# TODO:
# - remove local configs
# - Remove global configs
# - Clear the logs
...
