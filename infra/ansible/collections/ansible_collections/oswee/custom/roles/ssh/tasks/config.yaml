---
# tasks/config.yaml file for oswee.custom.ssh role

- name: config | Copy SSH config
  ansible.builtin.template:
    src: config.j2
    dest: '{{ ansible_env.HOME }}/.ssh/config'
    mode: '0600'

- name: config | Copy ssh-agent user unit template
  ansible.builtin.template:
    src: ssh-agent.service.j2
    dest: '{{ ansible_env.HOME }}/.config/systemd/user/ssh-agent.service'
    mode: '0644'

# TODO: Add SSH_AUTH_SOCK variable to ~/.config/environment.d/01-ssh-agent.conf
# SSH_AUTH_SOCK=${XDG_RUNTIME_DIR}/ssh-agent.socket
...
