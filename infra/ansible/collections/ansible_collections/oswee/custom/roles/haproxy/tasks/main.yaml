---
# tasks file for Haproxy

- name: Setup
  tags:
    - haproxy.setup
  block:
    - name: Errors
      ansible.builtin.import_tasks: errors.yaml
      tags:
        - haproxy.errors

    - name: TLS
      ansible.builtin.import_tasks: tls.yaml
      tags:
        - haproxy.tls

    - name: Config
      ansible.builtin.import_tasks: config.yaml
      tags:
        - haproxy.config

    - name: Cluster
      ansible.builtin.import_tasks: cluster.yaml
      tags:
        - haproxy.cluster
      when: haproxy_cluster_setup | default(false) | bool

# - name: Teardown
#   import_tasks: teardown.yaml
#   tags:
#     - never
#     - haproxy.teardown
...
